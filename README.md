# LightPickers Backend - Tau's Part

ä½ å¥½ï¼Œæˆ‘æ˜¯å¾éŸœã€‚æœ¬å°ˆæ¡ˆç‚ºå…­è§’å­¸é™¢å°ˆé¡Œã€Šæ‹¾å…‰å ‚ã€‹çš„å¾Œç«¯é–‹ç™¼éƒ¨åˆ†ï¼Œç”±æˆ‘è² è²¬ä¸»è¦åŠŸèƒ½é–‹ç™¼èˆ‡æ¶æ§‹è¨­è¨ˆã€‚
å°ˆæ¡ˆç‚ºäºŒæ‰‹æ”å½±å™¨æé›»å•†å¹³å°ï¼Œæä¾›å®Œæ•´è³¼ç‰©æµç¨‹èˆ‡é‡‘æµæ•´åˆåŠŸèƒ½ã€‚
[ğŸ”— æ‹¾å…‰å ‚ Node.js Tau's Part](https://github.com/TauHsu/LightPeakers-Backend-Nodejs-TauPart/tree/main)

---

## æˆ‘çš„è² è²¬é …ç›®

- ç³»çµ±è³‡æ–™è¡¨è¨­è¨ˆèˆ‡è¦åŠƒï¼ˆTypeORMï¼‰
- å»ºç«‹æœƒå“¡ / å•†å“ / è³¼ç‰©è»Š / è¨‚å–® / é‡‘æµ / å„ªæƒ åˆ¸ æ¨¡çµ„ APIï¼ˆå…± 17 æ”¯ï¼‰
- ä¸²æ¥è—æ–°é‡‘æµï¼ˆå»ºç«‹è¨‚å–®åŠ å¯†è«‹æ±‚ã€æ¥æ”¶å›å‚³çµæœï¼‰
- JWT ç™»å…¥é©—è­‰ç³»çµ±å¯¦ä½œ
- ä½¿ç”¨ Redis å¿«å–è³¼ç‰©è»Šè³‡æ–™
- å°ˆæ¡ˆæœƒè­°è¨˜éŒ„èˆ‡æŠ€è¡“æ–‡ä»¶æ’°å¯«

---

## ä½¿ç”¨æŠ€è¡“

- **å¾Œç«¯æ¡†æ¶**ï¼šNode.js + Express
- **è³‡æ–™åº«**ï¼šPostgreSQLï¼ˆä½¿ç”¨ TypeORM ç®¡ç†ï¼‰
- **éƒ¨ç½²å¹³å°**ï¼šRenderï¼ˆAPIï¼‰+ Neonï¼ˆPostgreSQLï¼‰+ Redis Cloud
- **èº«åˆ†é©—è­‰**ï¼šJWTã€Bcrypt
- **é‡‘æµæ•´åˆ**ï¼šè—æ–°é‡‘æµ NewebPayï¼ˆå« AES åŠ å¯† / SHA256ï¼‰
- **å¿«å–**ï¼šRedis
- **å·¥å…·**ï¼šdotenv
- **Log å·¥å…·**ï¼šPinoï¼ˆæ­é… pino-prettyï¼Œæ–¹ä¾¿é–‹ç™¼æ™‚æ ¼å¼åŒ– logï¼‰

---

## å°ˆæ¡ˆçµæ§‹ï¼ˆæˆ‘è² è²¬çš„å¾Œç«¯æ¨¡çµ„ï¼Œéƒ¨åˆ†å±•ç¤ºï¼‰

```bash
LightPeakers-Backend-Nodejs-TauPart/
â”œâ”€â”€ bin/                 # ä¼ºæœå™¨å•Ÿå‹•ç¨‹å¼
â”‚   â”œâ”€â”€ www.js
â”œâ”€â”€ config/              # ç’°å¢ƒèˆ‡å¯†é‘°è¨­å®š
â”‚   â”œâ”€â”€ db.js
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ neWebPay.js
â”‚   â”œâ”€â”€ redisSecret.js
â”‚   â”œâ”€â”€ web.js
â”œâ”€â”€ controllers/         # API æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ cart.js
â”‚   â”œâ”€â”€ orders.js
â”œâ”€â”€ routes/              # è·¯ç”±å®šç¾©
â”‚   â”œâ”€â”€ cart.js
â”‚   â”œâ”€â”€ orders.js
â”‚   â”œâ”€â”€ neWebPay.js
â”œâ”€â”€ entities/            # TypeORM è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ cart.js
â”‚   â”œâ”€â”€ Order_items.js
â”‚   â”œâ”€â”€ Orders.js
â”‚   â”œâ”€â”€ Payments.js
â”œâ”€â”€ middlewares/         # ä¸­ä»‹å±¤è™•ç†
â”‚   â”œâ”€â”€ auth.js
â”œâ”€â”€ utils/               # å·¥å…·å‡½å¼
â”‚   â”œâ”€â”€ AppError.js
â”‚   â”œâ”€â”€ errorMessages.js
â”‚   â”œâ”€â”€ generateJWT.js
â”‚   â”œâ”€â”€ handleErrorAsync.js
â”‚   â”œâ”€â”€ logger.js
â”‚   â”œâ”€â”€ neWebPayCrypto.js
â”‚   â”œâ”€â”€ redis.js
â”‚   â”œâ”€â”€ validUtils.js
â”‚   â”œâ”€â”€ validatePatterns.js
â”‚   â”œâ”€â”€ validateSignup.js
â”œâ”€â”€ app.js               # Express æ‡‰ç”¨ç¨‹å¼ä¸»æª”
â”œâ”€â”€ README.md
```

## è³‡æ–™åº«è¨­è¨ˆ

æœ¬å°ˆæ¡ˆä½¿ç”¨ PostgreSQL + TypeORM ç®¡ç†è³‡æ–™ï¼Œè³‡æ–™è¡¨çµæ§‹å¦‚ä¸‹ï¼š
[ğŸ”— è³‡æ–™è¡¨è¨­è¨ˆåœ–ï¼ˆdbdiagram.ioï¼‰](https://dbdiagram.io/d/Light-Peakers-67ea32794f7afba184c42005)

å¦‚æœæ‚¨æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿èˆ‡æˆ‘è¯ç¹«ã€‚æ„Ÿè¬é–±è®€ï¼
